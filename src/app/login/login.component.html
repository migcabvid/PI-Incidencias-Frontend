<div class="login" (click)="closeOptions($event)">

  <form class="container" (ngSubmit)="onSubmit()" #loginForm="ngForm">
    <h1 class="login__title">Login</h1>

    <div class="login__content">
      <!-- Usuario -->
      <div class="login__box">
        <i class="ri-user-3-line login__icon"></i>
        <div class="login__box-input">
          <input
            type="text"
            required
            class="login__input"
            id="login-user"
            name="usuario"
            [(ngModel)]="usuario"
            placeholder=" "
          >
          <label for="login-user" class="login__label">Usuario</label>
        </div>
      </div>

      <!-- Contraseña -->
      <div class="login__box">
        <i class="ri-lock-2-line login__icon"></i>
        <div class="login__box-input">
          <input
            #passwordInput
            type="password"
            required
            class="login__input"
            id="login-pass"
            name="password"
            [(ngModel)]="password"
            placeholder=" "
          >
          <label for="login-pass" class="login__label">Contraseña</label>
          <i #toggleEye class="ri-eye-off-line login__eye"
             (click)="togglePasswordVisibility()">
          </i>
        </div>
      </div>

      <!-- Rol (custom select) -->
      <div class="login__box login__box--custom-select">
        <i class="ri-user-settings-line login__icon"></i>
        <div class="login__box-input custom-select" [class.open]="optionsVisible">
          <div class="selected-option" (click)="toggleOptions()">
            {{ selectedRole }}
          </div>
          <div class="options" [style.display]="optionsVisible ? 'block' : 'none'">
            <div class="option" (click)="selectOption('Profesor')">Profesor</div>
            <div class="option" (click)="selectOption('Coordinador Tic')">
              Coordinador Tic
            </div>
            <div class="option" (click)="selectOption('Equipo Directivo')">
              Equipo Directivo
            </div>
          </div>
        </div>
      </div>
    </div>

    <div *ngIf="errorMessage" class="error-message">
      {{ errorMessage }}
    </div>

    <button
      type="submit"
      class="login__button"
      [disabled]="loginForm.invalid">
      Login
    </button>
  </form>
</div>